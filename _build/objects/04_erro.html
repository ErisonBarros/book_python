---
redirect_from:
  - "/objects/04-erro"
interact_link: content/objects/04_erro.ipynb
kernel_name: python3
has_widgets: false
title: |-
  Erros e Exceçõs
prev_page:
  url: /objects/03_inhe.html
  title: |-
    Herança e Polimorfismo
next_page:
  url: /objects/09_exer.html
  title: |-
    Exercícios
comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---
<main class="jupyter-page">
<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Erros-e-Exce&#231;&#245;es">Erros e Exce&#231;&#245;es<a class="anchor-link" href="#Erros-e-Exce&#231;&#245;es"> </a></h1><p>Mesmo quando um comando está sintaticamente correto, é possível que ocorram erros em sua execução. Esses erros que ocorrem em tempo de execução são chamados de exceções e, se não tratados, resultam no final fatal do programa. Alguns exemplos de exceções comuns:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------</span>
<span class="ansi-red-fg">ZeroDivisionError</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-5-bc757c3fda29&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-cyan-fg">1</span> <span class="ansi-blue-fg">/</span> <span class="ansi-cyan-fg">0</span>

<span class="ansi-red-fg">ZeroDivisionError</span>: division by zero</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mean</span> <span class="o">*</span> <span class="mi">3</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>   Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-2-5221628d77d0&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>mean <span class="ansi-blue-fg">*</span> <span class="ansi-cyan-fg">3</span>

<span class="ansi-red-fg">NameError</span>: name &#39;mean&#39; is not defined</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="s1">&#39;mean: &#39;</span> <span class="o">+</span> <span class="mf">1.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>   Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-3-29af19065ab3&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span><span class="ansi-blue-fg">&#39;mean: &#39;</span> <span class="ansi-blue-fg">+</span> <span class="ansi-cyan-fg">1.</span>

<span class="ansi-red-fg">TypeError</span>: must be str, not float</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A última linha na mensagem de erro diz o que ocorreu e começa com o tipo de exceção, seguido de informações mais detalhadas que ajudam a entender e resolver a fonte do erro. A parte acima da mensagem de erro mostra o contexto em que o erro ocorreu, seguindo a execução do script através da pilha de chamadas (certa linha de código chamou certa função, que chamou outra função, etc).</p>
<p>Para evitar que programas falhem devido a exceções, é possível escrever códigos que se previnem contra a sua ocorrência. O exemplo abaixo pede que o usuário insira um número após o outro. Caso o usuário insira um valor inválido, o script avisa o usuário por meio de uma mensagem. Note que o exemplo executa em um laço infinito. No entanto, é possível pará-lo usando <em>Control-C</em>, caso esteja executando em um terminal, <em>Esc-i-i</em>, caso esteja usando <em>Jupyter Notebook</em>, ou algum comando de interrupção suportado pelo seu sistema operacional. Caso a execução seja interrompida usando um desses comandos, Python irá lançar a exceção <em>KeyboardInterrupt</em>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Digite um número: &#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Número inválido. Tente novamente...&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Digite um número: 2
Digite um número: 5
Digite um número: 7
</pre>
</div>
</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------</span>
<span class="ansi-red-fg">KeyboardInterrupt</span>Traceback (most recent call last)
<span class="ansi-green-fg">~/anaconda2/envs/py36/lib/python3.6/site-packages/ipykernel/kernelbase.py</span> in <span class="ansi-cyan-fg">_input_request</span><span class="ansi-blue-fg">(self, prompt, ident, parent, password)</span>
<span class="ansi-green-intense-fg ansi-bold">    728</span>             <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 729</span><span class="ansi-red-fg">                 </span>ident<span class="ansi-blue-fg">,</span> reply <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>session<span class="ansi-blue-fg">.</span>recv<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>stdin_socket<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    730</span>             <span class="ansi-green-fg">except</span> Exception<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/anaconda2/envs/py36/lib/python3.6/site-packages/jupyter_client/session.py</span> in <span class="ansi-cyan-fg">recv</span><span class="ansi-blue-fg">(self, socket, mode, content, copy)</span>
<span class="ansi-green-intense-fg ansi-bold">    802</span>         <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 803</span><span class="ansi-red-fg">             </span>msg_list <span class="ansi-blue-fg">=</span> socket<span class="ansi-blue-fg">.</span>recv_multipart<span class="ansi-blue-fg">(</span>mode<span class="ansi-blue-fg">,</span> copy<span class="ansi-blue-fg">=</span>copy<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    804</span>         <span class="ansi-green-fg">except</span> zmq<span class="ansi-blue-fg">.</span>ZMQError <span class="ansi-green-fg">as</span> e<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/anaconda2/envs/py36/lib/python3.6/site-packages/zmq/sugar/socket.py</span> in <span class="ansi-cyan-fg">recv_multipart</span><span class="ansi-blue-fg">(self, flags, copy, track)</span>
<span class="ansi-green-intense-fg ansi-bold">    465</span>         &#34;&#34;&#34;
<span class="ansi-green-fg">--&gt; 466</span><span class="ansi-red-fg">         </span>parts <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span>self<span class="ansi-blue-fg">.</span>recv<span class="ansi-blue-fg">(</span>flags<span class="ansi-blue-fg">,</span> copy<span class="ansi-blue-fg">=</span>copy<span class="ansi-blue-fg">,</span> track<span class="ansi-blue-fg">=</span>track<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">    467</span>         <span class="ansi-red-fg"># have first part already, only loop while more to receive</span>

<span class="ansi-green-fg">zmq/backend/cython/socket.pyx</span> in <span class="ansi-cyan-fg">zmq.backend.cython.socket.Socket.recv</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">zmq/backend/cython/socket.pyx</span> in <span class="ansi-cyan-fg">zmq.backend.cython.socket.Socket.recv</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">zmq/backend/cython/socket.pyx</span> in <span class="ansi-cyan-fg">zmq.backend.cython.socket._recv_copy</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">~/anaconda2/envs/py36/lib/python3.6/site-packages/zmq/backend/cython/checkrc.pxd</span> in <span class="ansi-cyan-fg">zmq.backend.cython.checkrc._check_rc</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">KeyboardInterrupt</span>: 

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">KeyboardInterrupt</span>Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-8-05fb8f772de7&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">while</span> <span class="ansi-green-fg">True</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     <span class="ansi-green-fg">try</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg">         </span>x <span class="ansi-blue-fg">=</span> float<span class="ansi-blue-fg">(</span>input<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;Digite um número: &#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     <span class="ansi-green-fg">except</span> ValueError<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>         print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;Número inválido. Tente novamente...&#39;</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/anaconda2/envs/py36/lib/python3.6/site-packages/ipykernel/kernelbase.py</span> in <span class="ansi-cyan-fg">raw_input</span><span class="ansi-blue-fg">(self, prompt)</span>
<span class="ansi-green-intense-fg ansi-bold">    702</span>             self<span class="ansi-blue-fg">.</span>_parent_ident<span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    703</span>             self<span class="ansi-blue-fg">.</span>_parent_header<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg">--&gt; 704</span><span class="ansi-red-fg">             </span>password<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    705</span>         )
<span class="ansi-green-intense-fg ansi-bold">    706</span> 

<span class="ansi-green-fg">~/anaconda2/envs/py36/lib/python3.6/site-packages/ipykernel/kernelbase.py</span> in <span class="ansi-cyan-fg">_input_request</span><span class="ansi-blue-fg">(self, prompt, ident, parent, password)</span>
<span class="ansi-green-intense-fg ansi-bold">    732</span>             <span class="ansi-green-fg">except</span> KeyboardInterrupt<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    733</span>                 <span class="ansi-red-fg"># re-raise KeyboardInterrupt, to truncate traceback</span>
<span class="ansi-green-fg">--&gt; 734</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> KeyboardInterrupt
<span class="ansi-green-intense-fg ansi-bold">    735</span>             <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    736</span>                 <span class="ansi-green-fg">break</span>

<span class="ansi-red-fg">KeyboardInterrupt</span>: </pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>O comando <strong>try</strong> funciona da seguinte maneira:</p>
<ol>
<li>Os comandos definidos no bloco de código entre o <strong>try</strong> e o <strong>except</strong> são executados; </li>
<li>Se nenhuma exceção ocorrer o bloco do <strong>except</strong> é ignorado, terminando a execução do <strong>try</strong>; </li>
<li>Se uma exceção ocorrer, os comandos restantes do bloco <strong>try</strong> são ignorados;<ol>
<li>Se o tipo da exceção corresponder a algum tipo de exceção nomeado após o comando <strong>except</strong>, o bloco <strong>except</strong> é executado e a execução do <em>script</em> continua;</li>
<li>Se a execução não corresponder aos tipos de exceção nomeados após o comando <strong>except</strong>, a exceção é lançada para escopos superiores, na tentativa de encontrar algum bloco que a trate;<ol>
<li>Se a exceção permanecer não tratada, a execução irá parar.</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>O comando <strong>try</strong> pode ser associado a mais de um <strong>except</strong>, para especificar tratamentos diferentes para diferentes tipos de exceção. Por exemplo, para evitar a mensagem de erro de <em>KeyboardInterrupt</em> ao interromper o código acima, podemos fazer:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Digite um número: &#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Número inválido. Tente novamente...&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Digite um número: 2
Digite um número: 3
Digite um número: 4
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Além disso, Python também permite que um comando <strong>except</strong> seja associado a múltiplos tipos de exceções (nesse caso, o mesmo tratamento será dado às diferentes exceções):</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">except</span> <span class="p">(</span><span class="ne">RuntimeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">,</span> <span class="ne">NameError</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exce&#231;&#245;es-definidas-pelo-usu&#225;rio">Exce&#231;&#245;es definidas pelo usu&#225;rio<a class="anchor-link" href="#Exce&#231;&#245;es-definidas-pelo-usu&#225;rio"> </a></h2><p>As exceções mencionadas até agora (RuntimeError, TypeError, NameError, ValueError e KeyboardInterrupt) e <a href="https://docs.python.org/3.7/library/exceptions.html#bltin-exceptions">muitas outras</a> são disponibilizadas por padrão por Python. Todas elas são na verdade subclasses da classe <em>Exception</em>. Da mesma forma, é possível definir exceções customizadas que herdam de <em>Exception</em>. Por exemplo, o código abaixo continua o exemplo anterior, mas pede para o usuário digitar o número com vírgula como marcador de decimais. Caso não haja uma vírgula na <em>string</em> digitada, o código irá lançar o novo tipo de exceção chamado <em>InputError</em> (é convenção nomear exceções com a palavra <em>Error</em> no final). Caso haja uma vírgula, o código irá substituí-la por ponto e depois tentar converter a <em>string</em> resultante para <em>float</em>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">InputError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_value</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_value</span> <span class="o">=</span> <span class="n">input_value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Digite um número (vírgula para decimais): &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;,&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;Valor digitado não usou vírgula para decimais&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Valor digitado: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">))))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Número inválido. Tente novamente...&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Digite um número (vírgula para decimais): 2,1
Valor digitado: 2.1
Digite um número (vírgula para decimais): 2,2
Valor digitado: 2.2
Digite um número (vírgula para decimais): 2.3
</pre>
</div>
</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------</span>
<span class="ansi-red-fg">InputError</span>  Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-14-57dfd94421d7&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      8</span>         x <span class="ansi-blue-fg">=</span> input<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;Digite um número (vírgula para decimais): &#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      9</span>         <span class="ansi-green-fg">if</span> <span class="ansi-blue-fg">&#39;,&#39;</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">in</span> x<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">---&gt; 10</span><span class="ansi-red-fg">             </span><span class="ansi-green-fg">raise</span> InputError<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;Valor digitado não usou vírgula para decimais&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     11</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     12</span>             print<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;Valor digitado: {}&#39;</span><span class="ansi-blue-fg">.</span>format<span class="ansi-blue-fg">(</span>float<span class="ansi-blue-fg">(</span>x<span class="ansi-blue-fg">.</span>replace<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;,&#39;</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;.&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">InputError</span>: (&#39;2.3&#39;, &#39;Valor digitado não usou vírgula para decimais&#39;)</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note o uso do operador <strong>raise</strong> para lançar a exceção <em>InputError</em>. Além disso, o código não está tratando o <em>InputError</em>, o que faz com que o programa finalize com erro. Para tratar a nova exceção, iremos adicionar mais um <strong>except</strong>:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Digite um número (vírgula para decimais): &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;,&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;Valor digitado não usou vírgula para decimais&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Valor digitado: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">))))</span>
    <span class="k">except</span> <span class="n">InputError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">err</span><span class="o">.</span><span class="n">input_value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Número inválido. Tente novamente...&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Digite um número (vírgula para decimais): 2.1
Valor digitado não usou vírgula para decimais: 2.1
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note o uso do operador <strong>as</strong> para atribuir a exceção capturada ao objeto <em>err</em>, permitindo o acesso aos atributos <em>message</em> e <em>input_value</em>.</p>

</div>
</div>
</div>
</div>

 


</main>
